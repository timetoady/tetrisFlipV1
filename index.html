<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tetris Flip</title>
    <link rel="icon" href="/assets/icon.png" />
    <link rel="stylesheet" href="/src/style.css" />
  </head>
  <body>
    <div class="wrap">
      <div class="name-modal" id="name-modal" hidden>
        <div class="name-panel">
          <div class="menu-title">NEW HIGH SCORE</div>
          <div class="menu-sub">Enter your name</div>
          <input id="name-input" maxlength="12" />
          <div class="menu-actions">
            <button id="name-save">Save</button>
            <button id="name-skip">Skip</button>
          </div>
        </div>
      </div>
      <div class="name-modal exit-modal" id="exit-modal" hidden>
        <div class="name-panel exit-panel">
          <div class="menu-title">EXIT TETRIS FLIP?</div>
          <div class="menu-sub">Back again or Yes to exit</div>
          <div class="menu-actions">
            <button id="exit-yes">Yes</button>
            <button id="exit-no">No</button>
          </div>
        </div>
      </div>
      <div class="menu" id="menu" hidden>
        <div class="menu-screen is-active" data-screen="splash">
          <img class="splash-image" id="splash-image" alt="Tetris Flip" />
          <div class="menu-sub">PRESS TO START</div>
          <div class="splash-author">a fan game by Timetoady</div>
        </div>
        <div class="menu-screen" data-screen="mode">
          <div class="menu-panel menu-wide">
            <div class="menu-title">MODE SELECT</div>
            <div class="menu-option is-selected" data-mode="marathon">
              <span>Marathon</span>
              <span>Ready</span>
            </div>
            <div class="menu-option" data-mode="garbage">
              <span>Garbage</span>
              <span>Clear</span>
            </div>
            <div class="menu-option" data-mode="chillax">
              <span>Chillax</span>
              <span>Coast</span>
            </div>
            <div class="menu-option" data-mode="redemption">
              <span>Redemption</span>
              <span>Lives</span>
            </div>
            <div class="menu-option" data-mode="coop">
              <span>Co-op</span>
              <span>Therapy</span>
            </div>
            <div class="menu-option" data-mode="sirtet">
              <span>Sirtet</span>
              <span>Upside</span>
            </div>
            <div class="menu-option" data-mode="options">
              <span>Options</span>
              <span>Config</span>
            </div>
            <div class="menu-actions">
              <button id="mode-back" data-mode="back">RETURN TO TITLE</button>
            </div>
            <div class="menu-sub">Use arrows to choose. X confirm, Z back</div>
          </div>
        </div>
        <div class="menu-screen" data-screen="options">
          <div class="menu-panel options-panel">
            <div class="menu-title options-title">OPTIONS</div>
            <div class="options-scroll">
              <div class="menu-option is-selected" data-option="layout-mode" id="options-layout-mode">
                <span>Layout Mode</span>
                <span id="options-layout-mode-value">Standard</span>
              </div>
              <div class="menu-option" data-option="orientation" id="options-orientation">
                <span>Orientation</span>
                <span id="options-orientation-value">Portrait</span>
              </div>
              <div class="menu-option" data-option="rotate-layout" id="options-rotate">
                <span class="menu-label">
                  <span class="menu-label-full">Rotate Layout</span>
                  <span class="menu-label-short">Layout</span>
                </span>
                <span id="options-rotate-value">South / East</span>
              </div>
              <img
                class="options-controller"
                id="options-controller"
                alt="Controller layout preview"
              />
              <div class="menu-option" data-option="mouse-scheme" id="options-mouse">
                <span>Mouse Controls</span>
                <span id="options-mouse-value">Classic</span>
              </div>
              <div class="menu-option" data-option="music" id="options-music">
                <span>Music</span>
                <span id="options-music-value">Main</span>
              </div>
              <div class="menu-option" data-option="music-volume" id="options-music-volume">
                <span>Music Volume</span>
                <span id="options-music-volume-value">40%</span>
              </div>
              <div class="menu-option" data-option="vfx-volume" id="options-vfx-volume">
                <span>VFX Volume</span>
                <span id="options-vfx-volume-value">100%</span>
              </div>
              <div class="menu-option" data-option="help" id="options-help">
                <span>Help</span>
                <span>Manual</span>
              </div>
              <div class="menu-actions">
                <button id="options-back">Back</button>
              </div>
              <div class="menu-sub">Left/Right to change. X confirm, Z back</div>
            </div>
          </div>
        </div>
        <div class="menu-screen" data-screen="help">
          <div class="menu-panel menu-wide menu-help">
            <div class="menu-title">HELP</div>
            <div class="menu-help-grid">
              <div class="menu-help-section">
                <div class="menu-help-block">
                  <div class="menu-help-title">Overview</div>
                  <div class="menu-help-text">
                    Tetris Flip blends classic line clearing with a two-field board. Pieces
                    always fall into the active field (bottom by default). Flip swaps the
                    active field and lets you rescue stacks, chain clears, and build momentum.
                  </div>
                </div>
                <div class="menu-help-block">
                  <div class="menu-help-title">Controls: Keyboard (Player 1)</div>
                  <ul class="menu-help-list">
                    <li><span class="menu-help-label">Move</span> Left/Right arrows</li>
                    <li><span class="menu-help-label">Soft drop</span> Down arrow</li>
                    <li><span class="menu-help-label">Hard drop</span> Up arrow</li>
                    <li><span class="menu-help-label">Rotate CW</span> X</li>
                    <li><span class="menu-help-label">Rotate CCW</span> Z</li>
                    <li><span class="menu-help-label">Hold</span> C (once per piece)</li>
                    <li><span class="menu-help-label">Flip</span> Space or Shift</li>
                    <li><span class="menu-help-label">Pause</span> P or Esc</li>
                  </ul>
                  <div class="menu-help-text">
                    Menus: arrows move, X/Enter confirm, Z/Backspace back.
                  </div>
                </div>
                <div class="menu-help-block">
                  <div class="menu-help-title">Controls: Keyboard (Player 2)</div>
                  <div class="menu-help-text">
                    Co-op uses a second control set.
                  </div>
                  <ul class="menu-help-list">
                    <li><span class="menu-help-label">Move</span> A/D/W/S</li>
                    <li><span class="menu-help-label">Rotate CCW</span> J</li>
                    <li><span class="menu-help-label">Rotate CW</span> K</li>
                    <li><span class="menu-help-label">Hold</span> L</li>
                    <li><span class="menu-help-label">Flip</span> Space (shared)</li>
                  </ul>
                </div>
                <div class="menu-help-block">
                  <div class="menu-help-title">Controls: Gamepad</div>
                  <div class="menu-help-text">
                    D-pad moves, Start pauses, Back returns. Choose the rotate layout in
                    Options (South/East, South/West, or Sideways for handhelds). Sideways
                    remaps D-pad + right stick and applies to menus. A second controller
                    maps to Player 2 in Co-op.
                  </div>
                  <ul class="menu-help-list">
                    <li><span class="menu-help-label">Move</span> D-pad Left/Right (Sideways: Up/Down)</li>
                    <li><span class="menu-help-label">Rotate CW</span> A (South)</li>
                    <li><span class="menu-help-label">Rotate CCW</span> B (East) or X (West)</li>
                    <li><span class="menu-help-label">Hold</span> the other face button</li>
                    <li><span class="menu-help-label">Flip</span> Y/Triangle or RB</li>
                    <li><span class="menu-help-label">Hard drop</span> D-pad Up (Sideways: Left)</li>
                    <li><span class="menu-help-label">Soft drop</span> D-pad Down (Sideways: Right)</li>
                    <li><span class="menu-help-label">Sideways stick</span> Right stick mirrors D-pad</li>
                  </ul>
                </div>
                <div class="menu-help-block">
                  <div class="menu-help-title">Controls: Mouse</div>
                  <div class="menu-help-text">
                    Pick a mouse scheme in Options. Dragging left/right always moves the
                    piece horizontally.
                  </div>
                  <div class="menu-help-subtitle">Alternate (Wheel Rotate)</div>
                  <ul class="menu-help-list">
                    <li><span class="menu-help-label">Rotate</span> wheel up = CW, down = CCW</li>
                    <li><span class="menu-help-label">Soft drop</span> hold right click</li>
                    <li><span class="menu-help-label">Hard drop</span> double right click</li>
                    <li><span class="menu-help-label">Hold</span> left + right click</li>
                    <li><span class="menu-help-label">Flip</span> middle click</li>
                  </ul>
                  <div class="menu-help-subtitle">Classic (Wheel Drop)</div>
                  <ul class="menu-help-list">
                    <li><span class="menu-help-label">Rotate CW</span> left click</li>
                    <li><span class="menu-help-label">Rotate CCW</span> right click</li>
                    <li><span class="menu-help-label">Soft drop</span> wheel down (brief)</li>
                    <li><span class="menu-help-label">Hard drop</span> wheel up</li>
                    <li><span class="menu-help-label">Flip</span> middle click</li>
                  </ul>
                  <div class="menu-help-subtitle">Tetris.com</div>
                  <ul class="menu-help-list">
                    <li><span class="menu-help-label">Rotate CW</span> left click or wheel up</li>
                    <li><span class="menu-help-label">Rotate CCW</span> right click or wheel down</li>
                    <li><span class="menu-help-label">Soft drop</span> drag downward</li>
                    <li><span class="menu-help-label">Hard drop</span> middle click or double wheel down</li>
                  </ul>
                </div>
                <div class="menu-help-block">
                  <div class="menu-help-title">Controls: Touch</div>
                  <div class="menu-help-text">
                    Touch buttons appear only during gameplay.
                  </div>
                  <ul class="menu-help-list">
                    <li><span class="menu-help-label">Move</span> slide left/right</li>
                    <li><span class="menu-help-label">Soft drop</span> swipe down (hold)</li>
                    <li><span class="menu-help-label">Hard drop</span> swipe up</li>
                    <li><span class="menu-help-label">Rotate CW</span> tap</li>
                    <li><span class="menu-help-label">Rotate CCW</span> two-finger tap</li>
                    <li><span class="menu-help-label">Flip</span> two-finger swipe up/down</li>
                    <li><span class="menu-help-label">Hold</span> long press (about 0.4s) or tap HOLD</li>
                  </ul>
                </div>
              </div>
              <div class="menu-help-section">
                <div class="menu-help-title">Modes</div>
                <div class="menu-help-block">
                  <div class="menu-help-subtitle">Marathon</div>
                  <div class="menu-help-text">
                    The classic climb. Choose a starting gravity, then clear lines to raise
                    your level and increase speed. Score grows with clean clears, flips,
                    and momentum bursts.
                  </div>
                </div>
                <div class="menu-help-block">
                  <div class="menu-help-subtitle">Chillax</div>
                  <div class="menu-help-text">
                    A relaxed marathon with a locked speed. Your starting gravity stays
                    fixed for the whole run so you can practice at a steady pace. Score
                    still counts, but the level does not climb.
                  </div>
                </div>
                <div class="menu-help-block">
                  <div class="menu-help-subtitle">Garbage</div>
                  <div class="menu-help-text">
                    A timed clear challenge. Pick speed (0-35) and garbage height (1-9).
                    Both fields spawn with garbage; clear it all to win. The speed stays
                    fixed and the leaderboard tracks fastest time per setting.
                  </div>
                </div>
                <div class="menu-help-block">
                  <div class="menu-help-subtitle">Redemption</div>
                  <div class="menu-help-text">
                    Survive with limited lives. When a piece cannot spawn, you can spend
                    a life to clear part of the stack and keep playing. The run ends when
                    you are out of lives (or if you choose to stop).
                  </div>
                </div>
                <div class="menu-help-block">
                  <div class="menu-help-subtitle">Co-op Therapy</div>
                  <div class="menu-help-text">
                    Two players control simultaneous pieces on opposite fields. One field
                    falls while the other rises. Flips are shared, so communicate and
                    time swaps to save each other. Player 2 can use WASD/JKL or a second
                    gamepad.
                  </div>
                </div>
                <div class="menu-help-block">
                  <div class="menu-help-subtitle">Sirtet</div>
                  <div class="menu-help-text">
                    Reverse gravity mode. Pieces rise instead of fall and the active
                    field is inverted, turning familiar setups into new puzzles. Flips
                    still swap the active field, but the gravity stays reversed.
                  </div>
                </div>
                <div class="menu-help-block">
                  <div class="menu-help-title">Score Notes</div>
                  <div class="menu-help-text">
                    Most modes track score and levels. Tetrises, flip chains, and risky
                    clears build momentum. When the meter fills, Burst boosts score for a
                    short window, followed by a brief recovery. Garbage focuses on clear time.
                  </div>
                </div>
                <div class="menu-help-block">
                  <div class="menu-help-title">Fan Tribute</div>
                  <div class="menu-help-text">
                    Tetris is a trademark of The Tetris Company. This project is a fan
                    tribute game and is not affiliated with or endorsed by The Tetris Company.
                  </div>
                </div>
              </div>
            </div>
            <div class="menu-actions">
              <button id="help-back" class="is-selected">Back</button>
            </div>
            <div class="menu-sub">X confirm, Z back</div>
          </div>
        </div>
        <div class="menu-screen" data-screen="marathon">
          <div class="menu-panel">
            <div class="menu-title">MARATHON</div>
            <div class="menu-grid">
              <div class="menu-column">
                <div>Starting Gravity</div>
                <div class="marathon-value" id="gravity-value">1</div>
                <div class="menu-sub">Up/Down to change</div>
                <div class="menu-actions">
                  <button id="marathon-start" class="is-selected">Start</button>
                  <button id="marathon-back">Back</button>
                </div>
                <div class="menu-sub">Use arrows to choose. X confirm, Z back</div>
              </div>
              <div class="menu-column menu-column--scores">
                <div class="menu-sub">Top 10</div>
                <ol class="score-list" id="marathon-scores"></ol>
              </div>
            </div>
          </div>
        </div>
        <div class="menu-screen" data-screen="chillax">
          <div class="menu-panel">
            <div class="menu-title">CHILLAX</div>
            <div class="menu-grid">
              <div class="menu-column">
                <div>Starting Gravity</div>
                <div class="marathon-value" id="chillax-gravity-value">1</div>
                <div class="menu-sub">Up/Down to change</div>
                <div class="menu-actions">
                  <button id="chillax-start" class="is-selected">Start</button>
                  <button id="chillax-back">Back</button>
                </div>
                <div class="menu-sub">Use arrows to choose. X confirm, Z back</div>
              </div>
              <div class="menu-column menu-column--scores">
                <div class="menu-sub">Top 10</div>
                <ol class="score-list" id="chillax-scores"></ol>
              </div>
            </div>
          </div>
        </div>
        <div class="menu-screen" data-screen="redemption">
          <div class="menu-panel">
            <div class="menu-title">REDEMPTION</div>
            <div class="menu-grid">
              <div class="menu-column">
                <div class="menu-option is-selected" id="redemption-gravity-row">
                  <span>Starting Gravity</span>
                  <span id="redemption-gravity-value">0</span>
                </div>
                <div class="menu-option" id="redemption-lives-row">
                  <span>Lives</span>
                  <span id="redemption-lives-value">3</span>
                </div>
                <div class="menu-sub">Left/Right to change</div>
                <div class="menu-actions">
                  <button id="redemption-start" class="is-selected">Start</button>
                  <button id="redemption-back">Back</button>
                </div>
                <div class="menu-sub">Use arrows to choose. X confirm, Z back</div>
              </div>
              <div class="menu-column menu-column--scores">
                <div class="menu-sub">Top 10</div>
                <ol class="score-list" id="redemption-scores"></ol>
              </div>
            </div>
          </div>
        </div>
        <div class="menu-screen" data-screen="garbage">
          <div class="menu-panel">
            <div class="menu-title">GARBAGE</div>
            <div class="menu-grid">
              <div class="menu-column">
                <div class="menu-option is-selected" id="garbage-speed-row">
                  <span>Speed</span>
                  <span id="garbage-speed-value">0</span>
                </div>
                <div class="menu-option" id="garbage-height-row">
                  <span>Height</span>
                  <span id="garbage-height-value">1</span>
                </div>
                <div class="menu-sub">Left/Right to change</div>
                <div class="menu-actions">
                  <button id="garbage-start" class="is-selected">Start</button>
                  <button id="garbage-back">Back</button>
                </div>
                <div class="menu-sub">Use arrows to choose. X confirm, Z back</div>
              </div>
              <div class="menu-column menu-column--scores">
                <div class="menu-sub" id="garbage-score-label">Top 10</div>
                <ol class="score-list" id="garbage-scores"></ol>
              </div>
            </div>
          </div>
        </div>
        <div class="menu-screen" data-screen="coop">
          <div class="menu-panel">
            <div class="menu-title">CO-OP THERAPY</div>
            <div class="menu-grid">
              <div class="menu-column">
                <div>Starting Gravity</div>
                <div class="marathon-value" id="coop-gravity-value">1</div>
                <div class="menu-sub">Up/Down to change</div>
                <div class="menu-actions">
                  <button id="coop-start" class="is-selected">Start</button>
                  <button id="coop-back">Back</button>
                </div>
                <div class="menu-sub">Use arrows to choose. X confirm, Z back</div>
              </div>
              <div class="menu-column menu-column--scores">
                <div class="menu-sub">Top 10</div>
                <ol class="score-list" id="coop-scores"></ol>
              </div>
            </div>
          </div>
        </div>
        <div class="menu-screen" data-screen="sirtet">
          <div class="menu-panel">
            <div class="menu-title">SIRTET</div>
            <div class="menu-grid">
              <div class="menu-column">
                <div>Starting Gravity</div>
                <div class="marathon-value" id="sirtet-gravity-value">1</div>
                <div class="menu-sub">Up/Down to change</div>
                <div class="menu-actions">
                  <button id="sirtet-start" class="is-selected">Start</button>
                  <button id="sirtet-back">Back</button>
                </div>
                <div class="menu-sub">Use arrows to choose. X confirm, Z back</div>
              </div>
              <div class="menu-column menu-column--scores">
                <div class="menu-sub">Top 10</div>
                <ol class="score-list" id="sirtet-scores"></ol>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="overlay" id="overlay" hidden>
        <div class="panel">
          <img class="overlay-image" id="overlay-image" alt="" hidden />
          <div class="title" id="overlay-title">GAME OVER</div>
          <div class="actions">
            <button id="retry">Retry</button>
            <button id="back">Back</button>
          </div>
        </div>
      </div>
      <canvas id="game"></canvas>
    </div>
    <button class="touch-flip" id="touch-flip" type="button" hidden>
      FLIP!
    </button>
    <script type="module" src="/src/main.js"></script>
  </body>
</html>







